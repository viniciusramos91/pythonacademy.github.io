<!DOCTYPE html>
<html lang="pt-br">
	<head>		
				<!-- Global site tag (gtag.js) - Google Analytics -->
					
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116930343-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-116930343-1');
</script>
			
		<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '315628773120375');
    fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=315628773120375&ev=PageView&noscript=1"/></noscript>
<!-- End Facebook Pixel Code -->
		

		<meta charset="utf-8">
		<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">		

		<title>A Camada Model do framework de desenvolvimento web Django (Python)</title>
		<link rel="icon" type="image/png" href="/assets/img/favicon.png">		

		<!-- Robots -->
				
		<meta name="robots" content="index, follow">
		
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" integrity="sha512-1cK78a1o+ht2JcaW6g8OXYwqpev9+6GqOkz9xmBN9iUUhIndKtxwILGWYOSibOKjLsEdjyjZvYDq/cZwNeak0w==" crossorigin="anonymous" />

		<!-- Assets -->
		<link rel="stylesheet" href="/assets/css/master.css"/>			

		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700|Montserrat:400,700|Droid+Serif:400,700,400italic,700italic|Raleway:100,200,300,400,500,600,700,800|Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800|Merriweather:400,300,300italic,400italic,700,700italic,900,900italic|Space+Mono:400,700|Inconsolata:400,700|Muli:200,300,400,600,700|Quicksand:300,400,500,700|Source+Serif+Pro:400,700|Roboto+Condensed:300,400,700|Roboto:300,400,500,700|Ubuntu:300,400,500,700|Oswald:300,400,500,600" rel="stylesheet">

		<!-- Canonical URL -->
		<link rel="canonical" href="https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-model">	

		
		
		
		
		
		
		
		
		
				

				
		<!-- General -->
		<meta name="description" content="Nesse post, vamos tratar da camada Model do Django. Vamos abordar detalhes dessa camada, mapeamento objeto-relacional, a API de acesso a dados provida pelo Django e modelagem de dados.">		
		<meta name="title" content="A Camada Model do framework de desenvolvimento web Django (Python)">
		<meta itemprop="image" content="https://pythonacademy.com.br/assets/posts/django-model/facebook.png">

		<!-- Open Graph -->
		<meta property="fb:app_id" content="220280761884954">
		<meta property="og:site_name" content="Python Academy">
		<meta property="og:type" content="website">
		<meta property="og:title" content="A Camada Model do framework de desenvolvimento web Django (Python)">
		<meta property="og:url" content="https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-model">
		<meta property="og:description" content="Nesse post, vamos tratar da camada Model do Django. Vamos abordar detalhes dessa camada, mapeamento objeto-relacional, a API de acesso a dados provida pelo Django e modelagem de dados.">
		<meta property="og:image" itemprop="image" content="https://pythonacademy.com.br/assets/posts/django-model/facebook.png" />
		<meta property="og:image:alt" content="A Camada Model do framework de desenvolvimento web Django (Python)" />
		<meta property="og:image:type" content="image/png" />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />

		<!-- Twitter cards -->
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@https://twitter.com/PythonAcademyBR">
		<meta name="twitter:title" content="A Camada Model do framework de desenvolvimento web Django (Python)">
		<meta name="twitter:description" content="Nesse post, vamos tratar da camada Model do Django. Vamos abordar detalhes dessa camada, mapeamento objeto-relacional, a API de acesso a dados provida pelo Django e modelagem de dados.">
		<meta name="twitter:image:src" content="https://pythonacademy.com.br/assets/posts/django-model/twitter.png">
		
		<meta name="twitter:creator" content="@https://twitter.com/PythonAcademyBR">
		
		

		<link rel="stylesheet" href="/assets/css/post.css?1620260267027278033">
	</head>

	<body id="post-body">		
		


<header class="header">
	
	<nav class="navbar navbar-default">
		<div class="container">
	
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed " onclick="showMenu()" onblur="hideMenu()" data-toggle="collapse" data-target="#main-menu" aria-expanded="true">
					<span class="sr-only">Habilitar navegação</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>

				<a class="navbar-brand" rel="home" href="https://pythonacademy.com.br">
					<img alt="Python Academy" src="/assets/img/logo.png">
				</a>
			</div>

			<div id="main-menu" class="collapse navbar-collapse">
				<ul class="nav navbar-nav navbar-right">
					<li>
						<a href="https://pythonacademy.com.br" title="Volte à página inicial">
							Início
						</a>
					</li>
					
					<li>
						<a href="https://pythonacademy.com.br/blog/" title="Aprenda com nossos artigos">
							Blog
						</a>
					</li>						
					
					<li>
						<a href="https://pythonacademy.com.br/sliders/" title="Aprenda na prática">
							Sliders
						</a>
					</li>						

					<li>
						<a href="https://pythonacademy.com.br/sobre" title="Conheça-nos">
							Sobre
						</a>
					</li>						
				</ul>
			</div>
		</div>
	</nav>
</header>	

		<a href="#" class="sticky-newsletter hidden-xs" data-toggle="modal" data-target="#email-modal">
    <div class="rotate-text">
        <span>Receba todas as novidades!</span>
    </div>
</a>

<!-- Include email modal form with text, input and submit button to acquire emails to our list -->
<!-- Parameters: email-modal = modal id  -->

<div class="modal fade email-modal" id="email-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">                                    
            <div class="modal-body text-center">
                <a href="#" data-dismiss="modal" aria-label="Close" class="pull-right close-icon"><i class="fa fa-times" aria-hidden="true"></i></a>
                <h3 class="modal-title">Seja o primeiro a receber o melhor conteúdo!</h3>
                <div class="modal-label">
                    <p class="email-label">Cadastre o seu melhor email para <strong>receber gratuitamente <br></strong><strong>conteúdos exclusivos</strong> e muito mais!</p>
                </div>
                <!--<i class="down-icon fa fa-arrow-down fa-fw" aria-hidden="true"></i>-->

                <div class="mailchimp-input">
                    <!-- Include MailChimp email form with input and submit button -->
<!-- Parameters: QUERO RECEBER = button label  -->

<form action="https://pythonacademy.us12.list-manage.com/subscribe/post?u=d818a1dcab21e0bb6fbe4a39b&amp;id=11b4623db6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" autocomplete="off" novalidate>
    <div id="mc_embed_signup_scroll" class="mailchimp-signup container-fluid">        
        <div class="row no-gutters">
            <div class="col-xs-12 col-sm-3">
                <input id="mce-NAME" type="text" value="" name="NAME" class="signup-input name" placeholder="Nome" required>
            </div>
            
            <div class="col-xs-12 col-sm-5">                
                <input id="mce-EMAIL" type="email" value="" name="EMAIL" class="signup-input email" placeholder="Email" required>                
            </div>

            <div class="col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-0">
                <button id="mc-embedded-subscribe" type="submit" name="subscribe" class="btn">
                    <!--<i class="fa fa-paper-plane-o fa-fw" aria-hidden="true"></i>-->
                    <!--<span>Enviar</span>-->
                    <span><img class="emoji" title=":rocket:" alt=":rocket:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" height="20" width="20"> QUERO RECEBER</span>
                </button>        
            </div>
        </div>
    </div>	

    <div id="mce-responses" class="clear">
        <div class="response" id="mce-error-response" style="display:none"></div>
        <div class="response" id="mce-success-response" style="display:none"></div>
    </div>            
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d818a1dcab21e0bb6fbe4a39b_11b4623db6" tabindex="-1" value=""></div>
</form>
                </div>                

                <p class="pos-input text-center" style="font-size: 70%; margin-top: 10px; margin-bottom: 10px;">Não se preocupe, respeitamos sua privacidade. Você pode se descadastrar a qualquer momento.</p>
            </div>
        </div>
    </div>
</div>



		<div class="main-container" data-aos="fade-in" data-aos-duration="1500">
			<section class="post-banner">	
				<div class="post-banner-wrapper">
					<div class="post-banner-content" style="background: #051a12 url('/assets/svg/stars-bground.svg');">
						<div class="container">	
							<div class="wrapper">
								<div class="featured-icon-wrapper">
									<object id="featured-icon" class="featured-icon" type="image/svg+xml" data="/assets/posts/django-model/featured_icon.svg" width="90%">
									</object>															
								</div>
							</div>													
			
							
							<h1 class="blog-post-title font-shadow">
								Desenvolvimento Web com Python e Django: Model
							</h1>			
						</div>			
					</div>
				</div>
			</section>	
			
			<div class="post-meta">
				<div class="container">
					<div class="post-meta-wrapper">
						<div class="row">
							<div class="col-xs-12 col-sm-6 col-sm-offset-3">
								<div class="col-xs-6">
									<div class="post-meta-data">
										<img src="/assets/svg/clock.svg" alt="Tempo de Leitura">
										<span>15 min.</span>
									</div>
								</div>

								<div class="col-xs-6">
									<div class="post-meta-data">
										<img src="/assets/svg/level.svg" alt="Nível do Conteúdo">
										<span>Básico</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="container post-container">
				<div class="blog-post-content">
					
<p>Continuando a nossa série de <em>posts</em> sobre Django, nesse artigo vamos tratar sobre a camada <em>Model</em> da sua arquitetura!</p>

<p>Se você ainda não leu o <em>post</em> introdutório, você pode estar perdendo algumas informações iniciais importantes.</p>

<p>Se esse for o seu caso, então já <a href="https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-introducao" target="_blank">clica aqui</a> e <strong>fique por dentro do assunto</strong>!</p>

<p>Dito isso, vamos nessa que o tempo não para!</p>

<h2 class="no_toc" id="vá-direto-ao-assunto">Vá Direto ao Assunto…</h2>

<ul id="markdown-toc">
  <li><a href="#onde-estamos" id="markdown-toc-onde-estamos">Onde estamos…</a></li>
  <li><a href="#model-layer-camada-de-modelos" id="markdown-toc-model-layer-camada-de-modelos"><em>Model Layer</em> (Camada de Modelos)</a></li>
  <li><a href="#api-de-acesso-a-dados" id="markdown-toc-api-de-acesso-a-dados">API de Acesso a Dados</a></li>
</ul>

<h2 id="onde-estamos">Onde estamos…</h2>

<p>Primeiramente, vamos nos situar…</p>

<p><img src="/assets/posts/django-model/django-architecture.png" alt="Arquitetura do Django - Model" class="img-responsive"></p>

<p>No nosso <a href="https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-introducao" target="_blank">primeiro post</a>, tratamos de conceitos introdutórios do <em>framework</em>, uma visão geral da sua arquitetura, 
sua instalacão e a criação do famoso <strong><em>Hello World</em></strong> <em>Django-based</em>.</p>

<p>Agora, vamos mergulhar um pouco mais e vamos conhecer a camada <em>Model</em> da arquitetura <strong>MTV</strong> do Django (<em>Model Template View</em>).</p>

<p>Nela, vamos descrever, em forma de classes, as <strong>entidade</strong> as do nosso sistema, para que o resto (<em>Template e View</em>) façam sentido.</p>

<p>Sem mais delongas, apresento-lhes: <strong>A camada <em>Model</em></strong>!</p>

<h2 id="model-layer-camada-de-modelos">
<em>Model Layer</em> (Camada de Modelos)</h2>

<p>Vamos começar pelo básico: pela definição de <strong>modelo</strong>!</p>

<p>Um <strong>modelo</strong> é a descrição do dado que será gerenciado pela sua aplicação.</p>

<p>Ele contém os campos e comportamentos desses dados. No fim, cada modelo vai equivaler à uma tabela no banco de dados.</p>

<p>No Django, um modelo tem basicamente duas características:</p>

<ul>
  <li>É uma classe que herda de <code class="highlighter-rouge">django.db.models.Model</code>
</li>
  <li>Cada atributo representa um campo da tabela</li>
</ul>

<p>Com isso, Django gera automaticamente uma API de acesso à dados, isto é: facilita sua vida quando for gerenciar (adicionar, excluir e atualizar) seus dados.</p>

<p>Para entendermos melhor, vejamos como desenvolver um modelo em seu sistema!</p>

<p>Vamos supor que sua empresa está desenvolvendo um sistema de gerenciamento de funcionários e lhe foi dada a tarefa de modelar e desenvolver o acesso aos dados da entidade <code class="highlighter-rouge">Funcionário</code>.</p>

<p>Pensando calmamente em sua estação de trabalho enquanto seu chefe lhe cobra diversas metas, você pensa nos seguintes atributos para tal classe:</p>

<ul>
  <li>Nome</li>
  <li>Sobrenome</li>
  <li>CPF</li>
  <li>Tempo de serviço</li>
  <li>Remuneração</li>
</ul>

<p>Agora, é necessário passar isso para código.</p>

<p>Utilizando seu vasto conhecimento em Python e Django adquirido aqui na Python Academy…</p>

<p>Falando nisso…</p>

<p><strong>Você já se inscreveu na nossa lista de emails?!</strong></p>

<p>Quem está inscrito ficou sabendo em primeira mão do lançamento desse artigo! Então já <strong>aproveita a chance</strong> e se inscreve aí!!!</p>

<div class="email-signup" data-aos="fade-up" data-aos-easing="ease-out-quart" data-aos-duration="650">
	<div class="row">
		<div class="col-xs-12">
			<div class="signup-body">
				<span class="greeting">Olá <img class="emoji" title=":wave:" alt=":wave:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f44b.png" height="20" width="20"> Está gostando do artigo?</span>
				<span class="signup-text">Então cadastre o seu email para <span class="underline">receber gratuitamente</span> mais conteúdos como este!</span>
		        <!-- Include MailChimp email form with input and submit button -->
<!-- Parameters: Quero ser um PYTHONISTA = button label  -->

<form action="https://pythonacademy.us12.list-manage.com/subscribe/post?u=d818a1dcab21e0bb6fbe4a39b&amp;id=11b4623db6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" autocomplete="off" novalidate="">
    <div id="mc_embed_signup_scroll" class="mailchimp-signup container-fluid">        
        <div class="row no-gutters">
            <div class="col-xs-12 col-sm-3">
                <input id="mce-NAME" type="text" value="" name="NAME" class="signup-input name" placeholder="Nome" required="">
            </div>
            
            <div class="col-xs-12 col-sm-5">                
                <input id="mce-EMAIL" type="email" value="" name="EMAIL" class="signup-input email" placeholder="Email" required="">                
            </div>

            <div class="col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-0">
                <button id="mc-embedded-subscribe" type="submit" name="subscribe" class="btn">
                    <!--<i class="fa fa-paper-plane-o fa-fw" aria-hidden="true"></i>-->
                    <!--<span>Enviar</span>-->
                    <span><img class="emoji" title=":rocket:" alt=":rocket:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" height="20" width="20"> Quero ser um PYTHONISTA</span>
                </button>        
            </div>
        </div>
    </div>	

    <div id="mce-responses" class="clear">
        <div class="response" id="mce-error-response" style="display:none"></div>
        <div class="response" id="mce-success-response" style="display:none"></div>
    </div>            
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d818a1dcab21e0bb6fbe4a39b_11b4623db6" tabindex="-1" value=""></div>
</form>
		    </div>
		</div>
	</div>      
</div>

<p>Continuando…</p>

<p>Os modelos, por convenção, são descritos no arquivo <code class="highlighter-rouge">models.py</code>.</p>

<p>Vamos criar, então, esse arquivo na pasta <code class="highlighter-rouge">helloworld/models.py</code> (<em>Você ainda tem o nosso projeto <code class="highlighter-rouge">helloworld</code> do _post_ anterior? Se não, então <a href="/assets/posts/django-model/helloworld.zip" target="_blank">clique aqui</a> e baixe-o para seguirmos do mesmo ponto!</em>).</p>

<p>No arquivo <code class="highlighter-rouge">models.py</code> você então passa seu rascunho inicial para a classe Python <code class="highlighter-rouge">Funcionário</code> seguindo as duas características que apresentamos (herdar de <code class="highlighter-rouge">Model</code> e relacionar os campos com os tipos de campos da tabela) da seguinte forma:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td>
<td class="code"><pre><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Funcionario</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>

  <span class="n">nome</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span>
    <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span>
    <span class="n">null</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">blank</span><span class="o">=</span><span class="bp">False</span>
  <span class="p">)</span>

  <span class="n">sobrenome</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span>
    <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span>
    <span class="n">null</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">blank</span><span class="o">=</span><span class="bp">False</span>
  <span class="p">)</span>

  <span class="n">cpf</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span>
    <span class="n">max_length</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
    <span class="n">null</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">blank</span><span class="o">=</span><span class="bp">False</span>
  <span class="p">)</span>

  <span class="n">tempo_de_servico</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">IntegerField</span><span class="p">(</span>
    <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">null</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">blank</span><span class="o">=</span><span class="bp">False</span>
  <span class="p">)</span>

  <span class="n">remuneracao</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DecimalField</span><span class="p">(</span>
    <span class="n">max_digits</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
    <span class="n">decimal_places</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">null</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">blank</span><span class="o">=</span><span class="bp">False</span>
  <span class="p">)</span>

  <span class="n">objetos</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">Manager</span><span class="p">()</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Explicando brevemente esse modelo:</p>

<ul>
  <li>Cada campo tem um tipo</li>
  <li>O tipo <code class="highlighter-rouge">CharField</code> representa uma string</li>
  <li>O tipo <code class="highlighter-rouge">PositiveIntegerField</code> representa um número inteiro positivo</li>
  <li>O tipo <code class="highlighter-rouge">DecimalField</code> representa um número decimal com precisão fixa</li>
  <li>Cada tipo tem um conjunto de propriedades, como <code class="highlighter-rouge">max_length</code> para delimitar o comprimento máximo da string, 
<code class="highlighter-rouge">decimal_places</code> para configurar o número de casas decimais, etc (a documentação de cada campo e propriedades 
pode ser <a href="https://docs.djangoproject.com/en/2.0/ref/models/fields/" target="_blank">acessado aqui</a>).</li>
  <li>O campo <code class="highlighter-rouge">objetos = models.Manager()</code> é utilizado para fazer operações de busca e será explicado ali embaixo!</li>
  <li>
<strong>Observação</strong>: não precisamos configurar o campo <code class="highlighter-rouge">id</code> - ele é herdado do objeto <code class="highlighter-rouge">models.Model</code> (do qual nosso modelo herdou)!</li>
</ul>

<p>Agora que criamos nosso modelo, é necessário executar a criação das tabelas no banco de dados (<em>você não achou que seria automático, né?!</em>).</p>

<p>Para isso, o Django possui dois comandos que ajudam <strong>muito</strong>: o <code class="highlighter-rouge">makemigrations</code> e o <code class="highlighter-rouge">migrate</code>.</p>

<h3 id="o-comando-makemigrations">O comando <code class="highlighter-rouge">makemigrations</code>
</h3>

<p>O comando <code class="highlighter-rouge">makemigrations</code> analisa se foram feitas mudanças nos modelos e, em caso positivo, cria novas migrações (<code class="highlighter-rouge">Migrations</code>) para alterar a estrutura do seu banco de dados, refletindo as alterações feitas.</p>

<p>Vamos entender o que eu acabei de dizer: toda vez que você faz uma <strong>alteração</strong> em seu modelo, é necessário que ela seja <strong>aplicada</strong> a estrutura presente no banco de dados.</p>

<p>A esse processo é dado o nome de <strong>Migração</strong>!</p>

<p>De acordo com a documentação do Django:</p>

<blockquote>
  <p>Migração é a forma do Django de <strong>propagar as alterações</strong> feitas em seu modelo (adição de um novo campo, deleção de um modelo, etc…) ao seu esquema do banco de dados.
Elas foram desenvolvidos para serem (a maioria das vezes) <strong>automáticas</strong>, mas cabe a você saber a hora de fazê-las, de executá-las e de resolver os problemas comuns que 
você possa vir a ser submetidos.</p>
</blockquote>

<p>Portanto, toda vez que você alterar o seu modelo, não se esqueça: execute <code class="highlighter-rouge">python manage.py makemigrations</code>!</p>

<p>Ao executar esse comando no nosso projeto, devemos ter a seguinte saída:</p>

<figure class="highlight terminal-output"><pre><code class="language-plain" data-lang="plain"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="code"><pre>$ python manage.py makemigrations

Migrations for 'helloworld':
  helloworld\migrations\0001_initial.py
    - Create model Funcionario
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><em><strong>Observação:</strong> Talvez seja necessário executar o comando referenciando o app onde estão definidos os modelos: <code class="highlighter-rouge">python manage.py makemigrations helloworld</code>. Daí pra frente, apenas <code class="highlighter-rouge">python manage.py makemigrations</code> vai bastar!</em></p>

<p>Agora, podemos ver que foi criada uma pasta chamada <code class="highlighter-rouge">migrations</code> dentro de <code class="highlighter-rouge">helloworld</code>.</p>

<p>Dentro dela, você pode ver um arquivo chamado <code class="highlighter-rouge">0001_initial.py</code>: ele contém a <code class="highlighter-rouge">Migration</code> que cria o <em>model</em> <code class="highlighter-rouge">Funcionario</code> no banco de dados (<em>preste atenção na saída do comando <code class="highlighter-rouge">makemigrations</code>: <code class="highlighter-rouge">Create model Funcionario</code></em> <img class="emoji" title=":wink:" alt=":wink:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f609.png" height="20" width="20">)</p>

<h3 id="o-comando-migrate">O comando <code class="highlighter-rouge">migrate</code>
</h3>

<p>Quando executamos o <code class="highlighter-rouge">makemigrations</code>, o Django cria o banco de dados e as <em>migrations</em>, mas não as executa, isto é: não aplica as alterações no banco de dados.</p>

<p>Para que o Django as aplique, são necessárias três coisas, basicamente:</p>

<ul>
  <li>
<strong>1.</strong> Que a configuração da interface com o banco de dados esteja descrita no <code class="highlighter-rouge">settings.py</code>
</li>
  <li>
<strong>2.</strong> Que os modelos e <em>migrations</em> estejam definidos para esse projeto</li>
  <li>
<strong>3.</strong> Execução do comando <code class="highlighter-rouge">migrate</code>
</li>
</ul>

<p>Se você criou o projeto com <code class="highlighter-rouge">django-admin.py createproject helloworld</code>, a configuração padrão foi aplicada. Procure pela configuração <code class="highlighter-rouge">DATABASES</code> no <code class="highlighter-rouge">settings.py</code>. Ela deve ser a seguinte:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code"><pre><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'default'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'ENGINE'</span><span class="p">:</span> <span class="s">'django.db.backends.sqlite3'</span><span class="p">,</span>
        <span class="s">'NAME'</span><span class="p">:</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s">'db.sqlite3'</span><span class="p">),</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Por padrão, o Django utiliza um banco de dados leve e completo chamado <a href="https://sqlite.org/index.html" target="_blank">SQLite</a>. Já já vamos falar mais sobre ele.</p>

<p>Sobre os modelos e <em>migrations</em>, eles já foram feitos com a definição do <code class="highlighter-rouge">Funcionário</code> no arquivo <code class="highlighter-rouge">models.py</code> e com a execução do comando <code class="highlighter-rouge">makemigrations</code>.</p>

<p>Agora só falta <strong>executar o comando <code class="highlighter-rouge">migrate</code></strong>, propriamente dito!</p>

<p>Para isso, vamos para a raíz do projeto e executamos: <code class="highlighter-rouge">python manage.py migrate</code>. A saída deve ser:</p>

<figure class="highlight terminal-output"><pre><code class="language-plain" data-lang="plain"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td>
<td class="code"><pre>$ python manage.py migrate

Operations to perform:
  Apply all migrations: admin, auth, contenttypes, helloworld, sessions
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying auth.0001_initial... OK
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying auth.0002_alter_permission_name_max_length... OK
  Applying auth.0003_alter_user_email_max_length... OK
  Applying auth.0004_alter_user_username_opts... OK
  Applying auth.0005_alter_user_last_login_null... OK
  Applying auth.0006_require_contenttypes_0002... OK
  Applying auth.0007_alter_validators_add_error_messages... OK
  Applying auth.0008_alter_user_username_max_length... OK
  Applying auth.0009_alter_user_last_name_max_length... OK
  Applying helloworld.0001_initial... OK
  Applying sessions.0001_initial... OK
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><em>Calma lá… Havíamos definido apenas <strong>uma</strong> Migration e foram aplicadas 15!!! Por quê???</em></p>

<p>Se lembra que a configuração <code class="highlighter-rouge">INSTALLED_APPS</code> continha vários <code class="highlighter-rouge">apps</code> (<em>e não apenas os nossos <code class="highlighter-rouge">helloworld</code> e <code class="highlighter-rouge">website</code></em>)?</p>

<p>Pois então, cada <code class="highlighter-rouge">app</code> desses contém seus próprios modelos e <em>migrations</em>. <em>Sacou?!</em></p>

<p><img src="/assets/posts/django-model/thinking-guy.jpg" alt="_Thinking Guy Meme_" class="img-responsive"></p>

<p>Com a execução do <code class="highlighter-rouge">migrate</code>, o Django irá criar diversas tabelas no banco. Uma delas é a nossa, similar à:</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td>
<td class="code"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">helloworld_funcionario</span> <span class="p">(</span>
    <span class="nv">"id"</span> <span class="nb">serial</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="nv">"nome"</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="nv">"sobrenome"</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="p">...</span>
<span class="p">);</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><em>Isso está muito abstrato! Como eu posso ver o banco, as tabelas e os dados na prática?</em></p>

<h3 id="db-browser-for-sqlite"><em>DB Browser for SQLite</em></h3>

<p>Apresento-lhes uma ferramenta <strong>MUITO</strong> prática: o <em>DB Browser for SQLite</em>!</p>

<p>Com ela, podemos ver a estrutura do banco de dados, alterar dados em tempo real, fazer <em>queries</em>, e muito mais!</p>

<p><a href="http://sqlitebrowser.org/" target="_blank">Clique aqui</a> para fazer o <em>download</em> e instalação do software. Ao terminar a instalação, abra o <em>DB Browser for SQLite</em>.</p>

<p>Temos:</p>

<p><img src="/assets/posts/django-model/db-browser-screen.png" alt="_DB Browser for SQLite_" class="img-responsive"></p>

<p>Nele, podemos clicar em “<strong>Abrir banco de dados</strong>” e procurar pelo banco de dados do nosso projeto <code class="highlighter-rouge">db.sqlite3</code>.</p>

<p>Ao importá-lo, teremos uma visão geral, mostrando Tabelas, Índices, <em>Views</em> e <em>Triggers</em>.</p>

<p>Para ver os dados de cada tabela, vá para a aba “<strong>Navegar dados</strong>”, escolha nossa tabela <code class="highlighter-rouge">helloworld_funcionario</code> e…</p>

<p><em><strong>Voilá</strong></em>! O que temos? <strong>NADA</strong> <img class="emoji" title=":disappointed:" alt=":disappointed:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f61e.png" height="20" width="20"></p>

<p><em>Calma jovem… Ainda não adicionamos nada <img class="emoji" title=":unamused:" alt=":unamused:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f612.png" height="20" width="20"></em></p>

<p><em>Já já vamos criar as <strong>Views</strong> e <strong>Templates</strong> para popular esse BD! <img class="emoji" title=":wink:" alt=":wink:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f609.png" height="20" width="20"></em></p>

<h2 id="api-de-acesso-a-dados">API de Acesso a Dados</h2>

<p>Com nossa classe <code class="highlighter-rouge">Funcionário</code> modelada, vamos agora ver a API de acesso à dados provida pelo Django para facilitar <strong>muito</strong> nossa vida!</p>

<p>Vamos testar a adição de um novo funcionário utilizando o <em>shell</em> do Django. Para isso, digite o comando:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre>python manage.py shell
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><em>O shell do Django é muito útil para <strong>testar trechos de código</strong> sem ter que executar o servidor inteiro!</em></p>

<p>Para <strong>adicionar</strong> um novo funcionário, basta criar uma instância do seu modelo e chamar o método <code class="highlighter-rouge">save()</code> (<em>lembra que nosso modelo herdou de <code class="highlighter-rouge">Models</code>?</em>).</p>

<p>Podemos fazer isso com o código abaixo (no <em>shell</em> do Django):</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td>
<td class="code"><pre><span class="kn">from</span> <span class="nn">helloworld.models</span> <span class="kn">import</span> <span class="n">Funcionario</span>

<span class="n">funcionario</span> <span class="o">=</span> <span class="n">Funcionario</span><span class="p">(</span>
  <span class="n">nome</span><span class="o">=</span><span class="s">'Marcos'</span><span class="p">,</span>
  <span class="n">sobrenome</span><span class="o">=</span><span class="s">'da Silva'</span><span class="p">,</span>
  <span class="n">cpf</span><span class="o">=</span><span class="s">'015.458.895-50'</span><span class="p">,</span>
  <span class="n">tempo_de_servico</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
  <span class="n">remuneracao</span><span class="o">=</span><span class="mf">10500.00</span>
<span class="p">)</span>

<span class="n">funcionario</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>E…. <strong>Pronto</strong>! O Funcionário <code class="highlighter-rouge">Marcos da Silva</code> será salvo no seu banco!</p>

<p><strong>NADA</strong> de código SQL e <em>queries</em> enormes!!!</p>

<p>Tudo simples! Tudo limpo! <strong>Tudo Python</strong>!</p>

<p>A API de <strong>busca de dados</strong> é ainda mais completa! Nela, você constrói sua <em>query</em> à nível de objeto!</p>

<p><em><strong>Mas como assim?!</strong></em></p>

<p>Por exemplo, para buscar todos os Funcionários, abra o shell do Django e digite:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td>
<td class="code"><pre><span class="n">funcionarios</span> <span class="o">=</span> <span class="n">Funcionario</span><span class="p">.</span><span class="n">objetos</span><span class="p">.</span><span class="nb">all</span><span class="p">()</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>Se lembra do tal <code class="highlighter-rouge">Manager</code> que falamos lá em cima? Então, um <code class="highlighter-rouge">Manager</code> é a interface na qual as operações de busca são definidas para o seu modelo.</p>

<p>Ou seja, através do campo <code class="highlighter-rouge">objetos</code> podemos fazer <em>queries</em> incríveis sem uma linha de SQL!</p>

<p>Exemplo de um <em>query</em> um pouco mais complexa:</p>

<blockquote>
  <p>Busque todos os funcionários que tenham <strong>mais de 3 anos de serviço</strong> , ganhem <strong>menos de R$ 5.000,00 de remuneração</strong> e que <strong>não tenham Marcos no nome</strong></p>
</blockquote>

<p>Podemos atingir esse objetivo com:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="code"><pre><span class="n">funcionarios</span> <span class="o">=</span> <span class="n">Funcionario</span><span class="p">.</span><span class="n">objetos</span>
  <span class="p">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">"Marcos"</span><span class="p">)</span>
  <span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">tempo_de_servico__gt</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
  <span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">remuneracao__lt</span><span class="o">=</span><span class="mf">5000.00</span><span class="p">)</span>
  <span class="p">.</span><span class="nb">all</span><span class="p">()</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>O método <code class="highlighter-rouge">exclude()</code> retira linhas da pesquisa e <code class="highlighter-rouge">filter()</code> filtra a busca!</p>

<p>No exemplo, para filtrar por <strong>maior que</strong> concatenamos a string <code class="highlighter-rouge">__gt</code> (<strong>gt</strong> = <em>greater than</em>) ao filtro e <code class="highlighter-rouge">__lt</code> (<strong>lt</strong> = <em>less than</em>) para resultados <strong>menores que</strong>.</p>

<p>O método <code class="highlighter-rouge">.all()</code> ao final da <em>query</em> serve para retornar <strong>todas</strong> as linhas do banco que cumpram os filtros da nossa busca (também temos o <code class="highlighter-rouge">first()</code> que retorna apenas o primeiro
registro, o <code class="highlighter-rouge">last()</code>, que retorna o último, entre outros).</p>

<p>Agora, vamos ver como é <strong>simples</strong> excluir um <code class="highlighter-rouge">Funcionário</code>:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td>
<td class="code"><pre><span class="c1"># Primeiro, encontramos o Funcionário que desejamos deletar (id=1 por exemplo)
</span><span class="n">funcionario</span> <span class="o">=</span> <span class="n">Funcionario</span><span class="p">.</span><span class="n">objetos</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">).</span><span class="n">first</span><span class="p">()</span>

<span class="c1"># Agora, o deletamos!
</span><span class="n">funcionario</span><span class="p">.</span><span class="n">delete</span><span class="p">()</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p><em><strong>Legal, né?!</strong></em></p>

<p>A atualização também é extremamente simples, bastando buscar a instância desejada, alterar o campo e salvá-lo novamente!</p>

<p>Por exemplo: o funcionário de <strong>id = 13</strong> se casou e alterou seu nome de Marcos da Silva para Marcos da Silva Albuquerque.</p>

<p>Podemos fazer essa alteração da seguinte forma:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td>
<td class="code"><pre><span class="c1"># Primeiro, buscamos o funcionario desejado
</span><span class="n">funcionario</span> <span class="o">=</span> <span class="n">Funcionario</span><span class="p">.</span><span class="n">objetos</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">13</span><span class="p">).</span><span class="n">first</span><span class="p">()</span>

<span class="c1"># Alteramos seu sobrenome
</span><span class="n">funcionario</span><span class="p">.</span><span class="n">sobrenome</span> <span class="o">=</span> <span class="n">funcionario</span><span class="p">.</span><span class="n">sobrenome</span> <span class="o">+</span> <span class="s">" Albuquerque"</span>

<span class="c1"># Salvamos as alterações
</span><span class="n">funcionario</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>
</pre></td>
</tr></tbody></table></code></pre></figure>

<p>(<em>Para baixar o código desenvolvido até aqui: <a href="/assets/posts/django-model/helloworld-model.zip">clique aqui</a></em>)</p>

<h2 class="no_toc" id="conclusão">Conclusão</h2>

<p>Com isso galera:</p>

<p><img class="emoji" title=":heavy_check_mark:" alt=":heavy_check_mark:" src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png" height="20" width="20"> <strong>Modelo</strong></p>

<p>Criamos nosso primeiro modelo, nosso banco de dados, vimos como visualizar os dados com o <em>DB Browser for SQLite</em> e como a API de acesso a dados do Django é simples e poderosa!</p>

<p>Espero ter aguçado a vontade por aprender mais do Django! O próximo <em>post</em> trata da Camada <em>View</em> (<a href="https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-view">Já está disponível! Acesse-o AQUI e AGORA</a>)! É nela que construímos a lógica de negócio do nosso projeto.</p>

<p>Quer levar esse conteúdo para onde for com nosso <strong>ebook GRÁTIS</strong>?</p>

<p>Então aproveita essa chance <img class="emoji" title=":point_down:" alt=":point_down:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png" height="20" width="20"> <img class="emoji" title=":point_down:" alt=":point_down:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png" height="20" width="20"> <img class="emoji" title=":point_down:" alt=":point_down:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png" height="20" width="20"></p>

<div class="include-ebook-wrapper" data-aos="fade-up" data-aos-easing="ease-out-quart" data-aos-duration="650">
    <div class="row">
        <div class="col-xs-12 text-center">
            <h5>Ebook GRÁTIS</h5>
            <h4>DESENVOLVIMENTO WEB COM PYTHON E DJANGO</h4>
        </div>

        <div class="col-lg-5 col-md-5 col-xs-12 text-center">
            <img src="/assets/ebooks/desenvolvimento-web-com-python-e-django/capa-perspectiva.png" alt="Capa Ebook Desenvolvimento Web com Python e Django" class="ebook-cover">
        </div>

        <div class="col-lg-7 col-md-7 col-xs-12">
            <div class="ebook-data pb-0 pt-0" data-aos="fade-in">
                <h3 class="ebook-title">Conteúdo:</h3>

                <ul class="ebook-description">
                    <li>
<img class="emoji" title=":point_right:" alt=":point_right:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f449.png" height="20" width="20"> Veja como modelar sua aplicação</li>
                    <li>
<img class="emoji" title=":point_right:" alt=":point_right:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f449.png" height="20" width="20"> Utilize a robusta API de Acesso a Dados do Django</li>
                    <li>
<img class="emoji" title=":point_right:" alt=":point_right:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f449.png" height="20" width="20"> Aprenda sobre <i>Class Based Views</i>
</li>
                    <li>
<img class="emoji" title=":point_right:" alt=":point_right:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f449.png" height="20" width="20"> Construa <i>Middlewares</i> próprios</li>
                    <li>
<img class="emoji" title=":point_right:" alt=":point_right:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f449.png" height="20" width="20"> Desenvolva filtros e <i>tags</i> customizados para criar lindos <i>templates</i>
</li>
                </ul>

                <div class="link-to-download">                                    
                    <a href="/ebooks/desenvolvimento-web-com-python-e-django/" class="cta">
                        <i class="fa fa-download pr-8" aria-hidden="true"></i> Baixe já!
                    </a>
                </div>    
            </div>
        </div>
    </div>
</div>

<p>E não se esqueça: qualquer dúvida, <em>crash</em>, <em>bug</em> ou sugestão, utilize o box de comentário aqui embaixo que eu responderei <em>ASAP</em>!</p>

<p>É isso pessoal! Aguardo vocês no <strong>próximo artigo</strong>!</p>

<p>Abraço e bom desenvolvimento!</p>



					<div class="blue-yellow-separator no-repeat"></div>

					<div class="blog-post-footer">
						
						<div class="blog-post-colophon">
							<div class="row">
								<div class="col-xs-12 col-sm-3 text-center">									
									<img src="/assets/authors/vinicius-ramos/avatar.png" width="100%" alt="Autor" class="profile-img">
								</div>

								<div class="col-xs-12 col-sm-9">
									<div class="blog-post-meta">
										<h2>
											<span class="blog-post-by">
												Por Vinícius Ramos
											</span>

											<b>em <time datetime="2018-05-26" pubdate>26/05/2018</time></b>
										</h2>
	
										<p class="short-description">"<i>Porque o Senhor dá a sabedoria, e da sua boca vem a inteligência e o entendimento. - Provérbios 2:6 </i>"</p>

										<p class="author-media-label">Minhas redes:</p>
										
										<ul>
											
											<li><a href="https://www.linkedin.com/in/vinicius-aramos" target="_blank"><i class="fa fa-linkedin-square" style="color: #0072b1;" aria-hidden="true"></i></a></li>
																						
											
											<li><a href="mailto:vinicius.ramos@pythonacademy.com.br"><i class="fa fa-envelope" aria-hidden="true"></i></a></li>
																						
											
											<li><a href="https://github.com/viniciusramos91" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a></li>
											
											
											<li><a href="https://stackoverflow.com/users/6775679/viniciusramos91" target="_blank"><i class="fa fa-stack-overflow" aria-hidden="true"></i></a></li>
											
											
										</ul>
									</div>
								</div>
							</div>				
						</div>
					</div>
				</div>				
			</div>									
		</div>	

		<!-- READ MORE -->	
		<div class="more-posts">
			<section class="container">
				<div class="section-header">
		            <h2 class="black">Continue aprendendo!</h2>
		        </div>

				<div class="row">
					<div id="random_posts"></div>
				</div>	

				<div class="text-center">
	                <a href="/blog/index.html" class="button ripple-out-animation">
	                    ←  Retornar ao Blog
	                </a>
	            </div>		
			</section>		
		</div>

						
			
<div id="comment-box" class="center-block">
    <div class="container">
        <div id="disqus_thread"></div>        
    </div>
</div>

		

		<!-- Affix -->		
		<div class="social-media-affix">
			<h2 class="visible-xs">Gostou do conteúdo? Compartilha aí!</h2>
			<ul>				
				<li>
					<a rel="nofollow" href="javascript:window.open('https://www.facebook.com/sharer/sharer.php?u=https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-model','Compartilhe%20no%20Facebook','width=600,height=400')" class="facebook-item">
						<i class="fa fa-fw fa-facebook"></i>
					</a>
				</li>				
				
				<li>							
					<a rel="nofollow" href="javascript:window.open('https://twitter.com/share?url=https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-model&amp;related=PythonAcademyBR&amp;text=%22A%20Camada%20Model%20do%20framework%20de%20desenvolvimento%20web%20Django%20(Python)%22%20por%20Vin%C3%ADcius%20Ramos','Compartilhe%20no%20Twitter','width=600,height=400')" class="twitter-item" target="_blank">
						<i class="fa fa-fw fa-twitter"></i>
					</a>
				</li>

				<li>
					<a rel="nofollow" href="https://api.whatsapp.com/send?text=https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-model" target="_blank" class="whatsapp-item" data-link="https://api.whatsapp.com/send?text=https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-model" data-action="share/whatsapp/share">
						<i class="fa fa-fw fa-whatsapp"></i>
					</a>
				</li>

				<li>
					<a href="https://mail.google.com/mail?view=cm&amp;fs=1&amp;su=A%20Camada%20Model%20do%20framework%20de%20desenvolvimento%20web%20Django%20(Python)&amp;body=https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-model&amp;ui=2&amp;tf=1" target="_blank" class="gmail-item">
						<i class="fa fa-fw fa-envelope"></i>
					</a>
				</li>

				
			</ul>
		</div>		

		


<section id="footer-signup">
	<div class="container">
		<div class="row">
			<div class="col-xs-12 text-center">
				<h2 class="bold">Aprenda Python de Verdade!</h2>
				<p class="mb-32">
					Cadastre o seu <span class="bold">melhor email</span> para receber gratuitamente conteúdos exclusivos e muito mais!
				</p>
			</div>
			
			<div class="col-xs-12 col-md-8 col-md-offset-2">
				<!-- Include MailChimp email form with input and submit button -->
<!-- Parameters: Eu quero! = button label  -->

<form action="https://pythonacademy.us12.list-manage.com/subscribe/post?u=d818a1dcab21e0bb6fbe4a39b&amp;id=11b4623db6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" autocomplete="off" novalidate>
    <div id="mc_embed_signup_scroll" class="mailchimp-signup container-fluid">        
        <div class="row no-gutters">
            <div class="col-xs-12 col-sm-3">
                <input id="mce-NAME" type="text" value="" name="NAME" class="signup-input name" placeholder="Nome" required>
            </div>
            
            <div class="col-xs-12 col-sm-5">                
                <input id="mce-EMAIL" type="email" value="" name="EMAIL" class="signup-input email" placeholder="Email" required>                
            </div>

            <div class="col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-0">
                <button id="mc-embedded-subscribe" type="submit" name="subscribe" class="btn">
                    <!--<i class="fa fa-paper-plane-o fa-fw" aria-hidden="true"></i>-->
                    <!--<span>Enviar</span>-->
                    <span><img class="emoji" title=":rocket:" alt=":rocket:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" height="20" width="20"> Eu quero!</span>
                </button>        
            </div>
        </div>
    </div>	

    <div id="mce-responses" class="clear">
        <div class="response" id="mce-error-response" style="display:none"></div>
        <div class="response" id="mce-success-response" style="display:none"></div>
    </div>            
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d818a1dcab21e0bb6fbe4a39b_11b4623db6" tabindex="-1" value=""></div>
</form>
			</div>
		</div>
	</div>
</section>

<section id="footer">
	<div class="container">
		<div class="row">
			<div class="col-xs-12 col-sm-4">
				<div class="footer-wrapper">
					<p>Sobre</p>
	
					<ul>					
						<li>
							<a href="/">Início</a>
						</li>

						<li>
							<a href="/sobre">Sobre a Python Academy</a>
						</li>
	
						<li>
							<a href="/zen-of-python"><i>Zen of Python</i></a>
						</li>
					</ul>
				</div>
			</div>

			<div class="col-xs-12 col-sm-4">
				<div class="footer-wrapper">
					<p>Conteúdo</p>
	
					<ul>
						<li>
							<a href="/blog/">Blog</a>
						</li>
						<li>
							<a href="/sliders/">Sliders</a>
						</li>						
					</ul>
				</div>
			</div>

			<div class="col-xs-12 col-sm-4">
				<div class="footer-wrapper">
					<p>Ebooks</p>
	
					<ul>
						<li>
							<a href="/ebooks/desenvolvimento-web-com-python-e-django/">Desenvolvimento Web com Python e Django</a>
						</li>					
					</ul>
				</div>
			</div>
		</div>

		<div class="blue-yellow-separator no-repeat pt-64 pb-64"></div>
		
		<div class="row">
			<div class="col-sm-12 hidden-xs text-center">
				<div class="footer-wrapper">
					<img src="/assets/img/logo.png" alt="Aprenda Computação de Verdade!" class="footer-logo">
	
					<p class="footer-label mt-16">
						Existimos para levar o conhecimento de Python a todos de forma simples e inovadora!
					</p>
	
					<ul class="social-medias">
						<li>
							<a href="https://www.instagram.com/pythonacademybr/" target="_blank">
								<img src="/assets/img/instagram.png" alt="Facebook" data-aos="fade-in" data-aos-delay="0" data-aos-duration="500">
							</a>
						</li>

						<li>
							<a href="https://www.facebook.com/pythonacademy" target="_blank">
								<img src="/assets/img/facebook.png" alt="Facebook" data-aos="fade-in" data-aos-delay="150" data-aos-duration="500">
							</a>
						</li>												
						
						<li>
							<a href="https://www.linkedin.com/company/pythonacademy/" target="_blank">
								<img src="/assets/img/linkedin.png" alt="Medium" data-aos="fade-in" data-aos-delay="300" data-aos-duration="500">
							</a>
						</li>						
					</ul>
				</div>
			</div>
		</div>
	</div>
</section>

<section id="footer-copyright">
	<div class="text-center">
		<p>
			© <b>2021</b> Python Academy <img src="/assets/img/cross.png" alt="Conheça Jesus Cristo!" height="24px" class="ml-16 mr-16 hidden-xs"> <br class="visible-xs">
			<i>"Porque o Senhor dá a <b>sabedoria</b>, e da sua boca vem a <b>inteligência</b> e o <b>entendimento</b>" Pv 2:6</i>
		</p>
	</div>
</section>

<script src="/assets/vendors/bundle.min.js"></script>

<!-- Custom scripts -->

<script src="/assets/js/min/script.min.js"></script>




		<!-- Cookie.js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.0/js.cookie.min.js"></script>
		
		<!-- Javascript -->		
		<script type="text/javascript">			
			(function($) {
				AOS.init({
					easing: 'ease-out-back',
					duration: 1500
				});

				generateRandomPosts();
			})(jQuery);
			
			
				new Vivus('featured-icon', {
					duration: 80,
					type: 'delayed' // [delayed, sync, oneByOne, script, scenario, scenario-sync]
				});
						

			$('.social-media-affix').affix({
				offset: {
					top: $(".post-banner").height()
				}
			});

			// Generate random posts
			function generateRandomPosts() {
				var counter = 0;	            

				$.getJSON("/blog/posts.json", function(data) {
					var postsCount = data.length;					
					var posts = data;

					var randomIndexUsed = [];	
					var numberOfPosts = 4;

					var divRandomPosts = $("#random_posts");		            

					while (counter < numberOfPosts) {
						var randomIndex = Math.floor(Math.random() * postsCount);
						
						if (randomIndexUsed.indexOf(randomIndex) == "-1") {

							var post = posts[randomIndex];

							// Verify if related post is the same as the shown
							if (post.title != "A Camada Model do framework de desenvolvimento web Django (Python)") {
								var postHTML = 
									"<div class='col-lg-3 col-md-6 col-sm-6 col-xs-12'>" +
										"<a href='" + post.href + "' class='card aos-init aos-animate' data-aos='fade-up'>" +
											"<div class='card-frame'>" +
												"<object id='featured-icon-" + counter + " class=featured-icon' type='image/svg+xml' data='/assets/posts/" + post.assets + "/" + post.featured_icon + "' height='175px'></object>" +
											"</div>" + 
											
											"<div class='caption'>" +
												"<h3 class='card-title'>" +
													post.h1 +
												"</h3>" +
											"</div>" +
										"</div>" +
									"</div>"

								divRandomPosts.append(postHTML);
								randomIndexUsed.push(randomIndex);
								
								counter++;
							}
						}
					}
				});								
			}
			
			// Show signup modal on mouse leave event
			$( document ).ready(function() {
				$("body").bind("mouseleave",function(){
					if(!Cookies.get('pa_popup')) {
	
						// Same as included sticky-newsletter id
						$('#email-modal').modal('show');

						/* Set cookie so this does not repeat */
						Cookies.set('pa_popup', '1', { expires: 1, path: 'https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-model' });
					}
				});		
				
				// Initialize SVG animation on each related posts
				$("#random_posts").find('.card-frame object').each(function(index, element) {
					new Vivus(element, {
						duration: 80,
						type: 'delayed' // [delayed, sync, oneByOne, script, scenario, scenario-sync]
					});
				})
			});

		</script>
		
		<script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">require(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us12.list-manage.com","uuid":"d818a1dcab21e0bb6fbe4a39b","lid":"11b4623db6"}) })</script>	

		
			<script type="text/javascript">
				var disqus_config = function () {
					this.page.url = 'https://pythonacademy.com.br/blog/desenvolvimento-web-com-python-e-django-model';     // Replace PAGE_URL with your page's canonical URL variable
					this.page.identifier = '/blog/desenvolvimento-web-com-python-e-django-model';             // Replace PAGE_IDENTIFIER with your page's unique identifier variable
				};
			
				(function() { // DON'T EDIT BELOW THIS LINE
					var d = document, s = d.createElement('script');
					s.src = '//python-academy.disqus.com/embed.js';
					s.setAttribute('data-timestamp', +new Date());
					(d.head || d.body).appendChild(s);
				})();
			</script>
		
			<noscript>Por favor, habilite o Javascript para visualizar os <a href="https://disqus.com/?ref_noscript">comentários.</a>
</noscript>
		
	</body>
</html>

